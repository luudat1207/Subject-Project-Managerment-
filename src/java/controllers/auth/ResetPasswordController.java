/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package controllers.auth;

import dao.DAOUser;
import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import utils.BCrypt;
import utils.MailValidation;
import java.util.UUID;

/**
 *
 * @author Luu Dat
 */
@WebServlet(name = "ResetPasswordController", urlPatterns = {"/reset"})
public class ResetPasswordController extends HttpServlet {

    /**
     * Processes requests for both HTTP <code>GET</code> and <code>POST</code>
     * methods.
     *
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        response.setContentType("text/html;charset=UTF-8");
        try (PrintWriter out = response.getWriter()) {
            /* TODO output your page here. You may use following sample code. */
            out.println("<!DOCTYPE html>");
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet ResetPasswordController</title>");
            out.println("</head>");
            out.println("<body>");
            out.println("<h1>Servlet ResetPasswordController at " + request.getContextPath() + "</h1>");
            out.println("</body>");
            out.println("</html>");
        }
    }

    // <editor-fold defaultstate="collapsed" desc="HttpServlet methods. Click on the + sign on the left to edit the code.">
    /**
     * Handles the HTTP <code>GET</code> method.
     *
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        String mail1 = request.getParameter("email2");
        if (mail1 != null) {
            String email2 = request.getParameter("email2").replaceAll(" ", "+");
            
            
        request.setAttribute("email", email2);
            request.getRequestDispatcher("resetchange.jsp").forward(request, response);
        } else {
            request.getRequestDispatcher("resetpassword.jsp").forward(request, response);
        }

//      request.getRequestDispatcher("resetpassword.jsp").forward(request, response);
    }

    /**
     * Handles the HTTP <code>POST</code> method.
     *
     * @param request servlet request
     * @param response servlet response
     * @throws ServletException if a servlet-specific error occurs
     * @throws IOException if an I/O error occurs
     */
    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        
        String check1 = request.getParameter("check1");
        if (check1 != null) {
            String mail1 = request.getParameter("mail");
            String newpassword1 = request.getParameter("newpassword1");
            String newpassword2 = request.getParameter("newpassword2");
            if (newpassword1.equals(newpassword2)) {
                
                String password_random_encode = null;
                try {
                    password_random_encode = BCrypt.hashpw(newpassword1, BCrypt.gensalt(12));
                } catch (Exception e) {
                    password_random_encode = null;
                }
                DAOUser u = new DAOUser();
                u.updatepassword(u.getUseridbyemail(mail1), password_random_encode);
                String Notification1 = "Password setup successful!";
                request.setAttribute("notification", Notification1);
                request.getRequestDispatcher("login.jsp").forward(request, response);
            } else {
                String Notification1 = "New password does not match!";
                request.setAttribute("notification1", Notification1);
                request.setAttribute("email", mail1);
                request.getRequestDispatcher("resetchange.jsp").forward(request, response); 
            }
        } else {
        String mail1 = request.getParameter("email");
        String subject = "Confirmation email reset account password.";
        String message = "<!DOCTYPE html>\n"
                + "\n"
                + "<html\n"
                + "  lang=\"en\"\n"
                + "  xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n"
                + "  xmlns:v=\"urn:schemas-microsoft-com:vml\"\n"
                + ">\n"
                + "  <head>\n"
                + "    <title></title>\n"
                + "    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\" />\n"
                + "    <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\" />\n"
                + "    <!--[if mso\n"
                + "      ]><xml\n"
                + "        ><o:OfficeDocumentSettings\n"
                + "          ><o:PixelsPerInch>96</o:PixelsPerInch\n"
                + "          ><o:AllowPNG /></o:OfficeDocumentSettings></xml\n"
                + "    ><![endif]-->\n"
                + "    <style>\n"
                + "      * {\n"
                + "        box-sizing: border-box;\n"
                + "      }\n"
                + "\n"
                + "      body {\n"
                + "        margin: 0;\n"
                + "        padding: 0;\n"
                + "      }\n"
                + "\n"
                + "      a[x-apple-data-detectors] {\n"
                + "        color: inherit !important;\n"
                + "        text-decoration: inherit !important;\n"
                + "      }\n"
                + "\n"
                + "      #MessageViewBody a {\n"
                + "        color: inherit;\n"
                + "        text-decoration: none;\n"
                + "      }\n"
                + "\n"
                + "      p {\n"
                + "        line-height: inherit;\n"
                + "      }\n"
                + "\n"
                + "      .desktop_hide,\n"
                + "      .desktop_hide table {\n"
                + "        mso-hide: all;\n"
                + "        display: none;\n"
                + "        max-height: 0px;\n"
                + "        overflow: hidden;\n"
                + "      }\n"
                + "\n"
                + "      .menu_block.desktop_hide .menu-links span {\n"
                + "        mso-hide: all;\n"
                + "      }\n"
                + "\n"
                + "      @media (max-width: 700px) {\n"
                + "        .desktop_hide table.icons-inner {\n"
                + "          display: inline-block !important;\n"
                + "        }\n"
                + "\n"
                + "        .icons-inner {\n"
                + "          text-align: center;\n"
                + "        }\n"
                + "\n"
                + "        .icons-inner td {\n"
                + "          margin: 0 auto;\n"
                + "        }\n"
                + "\n"
                + "        .fullMobileWidth,\n"
                + "        .row-content {\n"
                + "          width: 100% !important;\n"
                + "        }\n"
                + "\n"
                + "        .image_block img.big {\n"
                + "          width: auto !important;\n"
                + "        }\n"
                + "\n"
                + "        .menu-checkbox[type=\"checkbox\"] ~ .menu-links {\n"
                + "          display: none !important;\n"
                + "          padding: 5px 0;\n"
                + "        }\n"
                + "\n"
                + "        .menu-checkbox[type=\"checkbox\"]:checked ~ .menu-trigger .menu-open {\n"
                + "          display: none !important;\n"
                + "        }\n"
                + "\n"
                + "        .menu-checkbox[type=\"checkbox\"]:checked ~ .menu-links,\n"
                + "        .menu-checkbox[type=\"checkbox\"] ~ .menu-trigger {\n"
                + "          display: block !important;\n"
                + "          max-width: none !important;\n"
                + "          max-height: none !important;\n"
                + "          font-size: inherit !important;\n"
                + "        }\n"
                + "\n"
                + "        .menu-checkbox[type=\"checkbox\"] ~ .menu-links > a,\n"
                + "        .menu-checkbox[type=\"checkbox\"] ~ .menu-links > span.label {\n"
                + "          display: block !important;\n"
                + "          text-align: center;\n"
                + "        }\n"
                + "\n"
                + "        .menu-checkbox[type=\"checkbox\"]:checked ~ .menu-trigger .menu-close {\n"
                + "          display: block !important;\n"
                + "        }\n"
                + "\n"
                + "        .column .border,\n"
                + "        .mobile_hide {\n"
                + "          display: none;\n"
                + "        }\n"
                + "\n"
                + "        table {\n"
                + "          table-layout: fixed !important;\n"
                + "        }\n"
                + "\n"
                + "        .stack .column {\n"
                + "          width: 100%;\n"
                + "          display: block;\n"
                + "        }\n"
                + "\n"
                + "        .mobile_hide {\n"
                + "          min-height: 0;\n"
                + "          max-height: 0;\n"
                + "          max-width: 0;\n"
                + "          overflow: hidden;\n"
                + "          font-size: 0px;\n"
                + "        }\n"
                + "\n"
                + "        .desktop_hide,\n"
                + "        .desktop_hide table {\n"
                + "          display: table !important;\n"
                + "          max-height: none !important;\n"
                + "        }\n"
                + "      }\n"
                + "\n"
                + "      #menu9ipdoo:checked ~ .menu-links {\n"
                + "        background-color: #000000 !important;\n"
                + "      }\n"
                + "\n"
                + "      #menu9ipdoo:checked ~ .menu-links a,\n"
                + "      #menu9ipdoo:checked ~ .menu-links span {\n"
                + "        color: #ffffff !important;\n"
                + "      }\n"
                + "    </style>\n"
                + "  </head>\n"
                + "  <body\n"
                + "    style=\"\n"
                + "      background-color: #d2e7f5;\n"
                + "      margin: 0;\n"
                + "      padding: 0;\n"
                + "      -webkit-text-size-adjust: none;\n"
                + "      text-size-adjust: none;\n"
                + "    \"\n"
                + "  >\n"
                + "    <table\n"
                + "      border=\"0\"\n"
                + "      cellpadding=\"0\"\n"
                + "      cellspacing=\"0\"\n"
                + "      class=\"nl-container\"\n"
                + "      role=\"presentation\"\n"
                + "      style=\"\n"
                + "        mso-table-lspace: 0pt;\n"
                + "        mso-table-rspace: 0pt;\n"
                + "        background-color: #d2e7f5;\n"
                + "      \"\n"
                + "      width=\"100%\"\n"
                + "    >\n"
                + "      <tbody>\n"
                + "        <tr>\n"
                + "          <td>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-1\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              padding-top: 5px;\n"
                + "                              padding-bottom: 5px;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"100%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 30px;\n"
                + "                                line-height: 30px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-2\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"33.333333333333336%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-2\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"33.333333333333336%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"image_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    width: 100%;\n"
                + "                                    padding-right: 0px;\n"
                + "                                    padding-left: 0px;\n"
                + "                                    padding-top: 5px;\n"
                + "                                    padding-bottom: 5px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  \n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-3\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"33.333333333333336%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-3\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              padding-top: 5px;\n"
                + "                              padding-bottom: 5px;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"100%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 10px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-4\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              padding-top: 5px;\n"
                + "                              padding-bottom: 5px;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"100%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"image_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    width: 100%;\n"
                + "                                    padding-right: 0px;\n"
                + "                                    padding-left: 0px;\n"
                + "                                    padding-bottom: 5px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  \n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-5\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-2\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"66.66666666666667%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"heading_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    text-align: center;\n"
                + "                                    width: 100%;\n"
                + "                                    padding-top: 5px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <h1\n"
                + "                                    style=\"\n"
                + "                                      margin: 0;\n"
                + "                                      color: #03191e;\n"
                + "                                      direction: ltr;\n"
                + "                                      font-family: Arial, Helvetica Neue,\n"
                + "                                        Helvetica, sans-serif;\n"
                + "                                      font-size: 40px;\n"
                + "                                      font-weight: normal;\n"
                + "                                      letter-spacing: normal;\n"
                + "                                      line-height: 120%;\n"
                + "                                      text-align: center;\n"
                + "                                      margin-top: 0;\n"
                + "                                      margin-bottom: 0;\n"
                + "                                    \"\n"
                + "                                  >\n"
                + "                                    <strong>Forgot</strong>\n"
                + "                                  </h1>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"heading_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 10px;\n"
                + "                                    text-align: center;\n"
                + "                                    width: 100%;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <h1\n"
                + "                                    style=\"\n"
                + "                                      margin: 0;\n"
                + "                                      color: #03191e;\n"
                + "                                      direction: ltr;\n"
                + "                                      font-family: Arial, Helvetica Neue,\n"
                + "                                        Helvetica, sans-serif;\n"
                + "                                      font-size: 40px;\n"
                + "                                      font-weight: normal;\n"
                + "                                      letter-spacing: normal;\n"
                + "                                      line-height: 120%;\n"
                + "                                      text-align: center;\n"
                + "                                      margin-top: 0;\n"
                + "                                      margin-bottom: 0;\n"
                + "                                    \"\n"
                + "                                  >\n"
                + "                                    <strong>Your Password?</strong>\n"
                + "                                  </h1>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"text_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                                word-break: break-word;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 10px;\n"
                + "                                    padding-left: 20px;\n"
                + "                                    padding-right: 10px;\n"
                + "                                    padding-top: 10px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <div style=\"font-family: sans-serif\">\n"
                + "                                    <div\n"
                + "                                      class=\"txtTinyMce-wrapper\"\n"
                + "                                      style=\"\n"
                + "                                        font-size: 12px;\n"
                + "                                        mso-line-height-alt: 21.6px;\n"
                + "                                        color: #848484;\n"
                + "                                        line-height: 1.8;\n"
                + "                                        font-family: Arial, Helvetica Neue,\n"
                + "                                          Helvetica, sans-serif;\n"
                + "                                      \"\n"
                + "                                    >\n"
                + "                                      <p\n"
                + "                                        style=\"\n"
                + "                                          margin: 0;\n"
                + "                                          font-size: 14px;\n"
                + "                                          text-align: center;\n"
                + "                                          mso-line-height-alt: 25.2px;\n"
                + "                                        \"\n"
                + "                                      >\n"
                + "                                        <span style=\"font-size: 14px\"\n"
                + "                                          >Lorem ipsum dolor sit amet,\n"
                + "                                          consectetuer adipiscing elit. Aenean\n"
                + "                                          commodo ligula eget dolor. Aenean\n"
                + "                                          massa.</span\n"
                + "                                        >\n"
                + "                                      </p>\n"
                + "                                    </div>\n"
                + "                                  </div>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"button_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 35px;\n"
                + "                                    padding-left: 10px;\n"
                + "                                    padding-right: 10px;\n"
                + "                                    padding-top: 20px;\n"
                + "                                    text-align: center;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <div align=\"center\">\n"
                + "                                    <!--[if mso]><v:roundrect xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" href=\"www.example.com\" style=\"height:44px;width:160px;v-text-anchor:middle;\" arcsize=\"10%\" strokeweight=\"0.75pt\" strokecolor=\"#03191E\" fillcolor=\"#03191e\"><w:anchorlock/><v:textbox inset=\"0px,0px,0px,0px\"><center style=\"color:#ffffff; font-family:Arial, sans-serif; font-size:16px\"><!\n"
                + "                                    [endif]--><a hilden\n"
                + "                                      href=\"http://localhost:8080/g3/reset?encode=8cORnzIIZGGfuHdI4DeLyGRUeyz4dfiWdp0Z8J2DbOlY11N67U0S17ho9rn3wpyf9P5D63X9nFk374X2q5RQyMn5eaJoTzjE5tOxFcKUPMsnfDnUJ7mF2tNUpwGnAWR8gMoj72Wc4caQ3I90gdUYC5ygcio3iNZYriObgSirjoxQhOj5sMXeZbANKwMnoJ3uuKkp1xaxPgRlmjGEfxrni1JyKLllaTzU9obnm&email2=" + mail1 + "\" "
                + "                                      style=\"\n"
                + "                                        text-decoration: none;\n"
                + "                                        display: inline-block;\n"
                + "                                        color: #ffffff;\n"
                + "                                        background-color: #03191e;\n"
                + "                                        border-radius: 4px;\n"
                + "                                        width: auto;\n"
                + "                                        border-top: 1px solid #03191e;\n"
                + "                                        font-weight: undefined;\n"
                + "                                        border-right: 1px solid #03191e;\n"
                + "                                        border-bottom: 1px solid #03191e;\n"
                + "                                        border-left: 1px solid #03191e;\n"
                + "                                        padding-top: 5px;\n"
                + "                                        padding-bottom: 5px;\n"
                + "                                        font-family: Arial, Helvetica Neue,\n"
                + "                                          Helvetica, sans-serif;\n"
                + "                                        text-align: center;\n"
                + "                                        mso-border-alt: none;\n"
                + "                                        word-break: keep-all;\n"
                + "                                      \"\n"
                + "                                      target=\"_blank\"\n"
                + "                                      >"
                + "<span\n"
                + "                                        style=\"\n"
                + "                                          padding-left: 20px;\n"
                + "                                          padding-right: 20px;\n"
                + "                                          font-size: 16px;\n"
                + "                                          display: inline-block;\n"
                + "                                          letter-spacing: normal;\n"
                + "                                        \"\n"
                + "                                        ><span\n"
                + "                                          style=\"\n"
                + "                                            font-size: 16px;\n"
                + "                                            line-height: 2;\n"
                + "                                            word-break: break-word;\n"
                + "                                            mso-line-height-alt: 32px;\n"
                + "                                          \"\n"
                + "                                          >Reset Password</span\n"
                + "                                        ></span\n"
                + "                                      ></a\n"
                + "                                    >\n"
                + "                                    <!--[if mso]></center></v:textbox></v:roundrect><![endif]-->\n"
                + "                                  </div>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-3\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-6\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-bottom: 0px solid #d2e7f5;\n"
                + "                              border-left: 0px solid #d2e7f5;\n"
                + "                              border-right: 0px solid #d2e7f5;\n"
                + "                              border-top: 0px solid #d2e7f5;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-2\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              background-color: #ffffff;\n"
                + "                              border-bottom: 6px solid #d2e7f5;\n"
                + "                              border-left: 6px solid #d2e7f5;\n"
                + "                              border-right: 6px solid #d2e7f5;\n"
                + "                              border-top: 6px solid #d2e7f5;\n"
                + "                            \"\n"
                + "                            width=\"33.333333333333336%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"heading_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    text-align: center;\n"
                + "                                    width: 100%;\n"
                + "                                    padding-top: 25px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <h1\n"
                + "                                    style=\"\n"
                + "                                      margin: 0;\n"
                + "                                      color: #03191e;\n"
                + "                                      direction: ltr;\n"
                + "                                      font-family: Arial, Helvetica Neue,\n"
                + "                                        Helvetica, sans-serif;\n"
                + "                                      font-size: 26px;\n"
                + "                                      font-weight: normal;\n"
                + "                                      letter-spacing: normal;\n"
                + "                                      line-height: 120%;\n"
                + "                                      text-align: center;\n"
                + "                                      margin-top: 0;\n"
                + "                                      margin-bottom: 0;\n"
                + "                                    \"\n"
                + "                                  >\n"
                + "                                    <strong>Call</strong>\n"
                + "                                  </h1>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"text_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                                word-break: break-word;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 35px;\n"
                + "                                    padding-left: 20px;\n"
                + "                                    padding-right: 10px;\n"
                + "                                    padding-top: 10px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <div style=\"font-family: sans-serif\">\n"
                + "                                    <div\n"
                + "                                      class=\"txtTinyMce-wrapper\"\n"
                + "                                      style=\"\n"
                + "                                        font-size: 12px;\n"
                + "                                        mso-line-height-alt: 21.6px;\n"
                + "                                        color: #03191e;\n"
                + "                                        line-height: 1.8;\n"
                + "                                        font-family: Arial, Helvetica Neue,\n"
                + "                                          Helvetica, sans-serif;\n"
                + "                                      \"\n"
                + "                                    >\n"
                + "                                      <p\n"
                + "                                        style=\"\n"
                + "                                          margin: 0;\n"
                + "                                          font-size: 14px;\n"
                + "                                          text-align: center;\n"
                + "                                          mso-line-height-alt: 25.2px;\n"
                + "                                        \"\n"
                + "                                      >\n"
                + "                                        <span style=\"font-size: 14px\"\n"
                + "                                          >0941891908</span\n"
                + "                                        >\n"
                + "                                      </p>\n"
                + "                                    </div>\n"
                + "                                  </div>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-3\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              background-color: #ffffff;\n"
                + "                              border-bottom: 6px solid #d2e7f5;\n"
                + "                              border-left: 6px solid #d2e7f5;\n"
                + "                              border-right: 6px solid #d2e7f5;\n"
                + "                              border-top: 6px solid #d2e7f5;\n"
                + "                            \"\n"
                + "                            width=\"33.333333333333336%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"heading_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    text-align: center;\n"
                + "                                    width: 100%;\n"
                + "                                    padding-top: 25px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <h1\n"
                + "                                    style=\"\n"
                + "                                      margin: 0;\n"
                + "                                      color: #03191e;\n"
                + "                                      direction: ltr;\n"
                + "                                      font-family: Arial, Helvetica Neue,\n"
                + "                                        Helvetica, sans-serif;\n"
                + "                                      font-size: 26px;\n"
                + "                                      font-weight: normal;\n"
                + "                                      letter-spacing: normal;\n"
                + "                                      line-height: 120%;\n"
                + "                                      text-align: center;\n"
                + "                                      margin-top: 0;\n"
                + "                                      margin-bottom: 0;\n"
                + "                                    \"\n"
                + "                                  >\n"
                + "                                    <strong>Reply</strong>\n"
                + "                                  </h1>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"text_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                                word-break: break-word;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 35px;\n"
                + "                                    padding-left: 20px;\n"
                + "                                    padding-right: 10px;\n"
                + "                                    padding-top: 10px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <div style=\"font-family: sans-serif\">\n"
                + "                                    <div\n"
                + "                                      class=\"txtTinyMce-wrapper\"\n"
                + "                                      style=\"\n"
                + "                                        font-size: 12px;\n"
                + "                                        mso-line-height-alt: 21.6px;\n"
                + "                                        color: #03191e;\n"
                + "                                        line-height: 1.8;\n"
                + "                                        font-family: Arial, Helvetica Neue,\n"
                + "                                          Helvetica, sans-serif;\n"
                + "                                      \"\n"
                + "                                    >\n"
                + "                                      <p\n"
                + "                                        style=\"\n"
                + "                                          margin: 0;\n"
                + "                                          font-size: 14px;\n"
                + "                                          text-align: center;\n"
                + "                                        \"\n"
                + "                                      >\n"
                + "                                        <a\n"
                + "                                          href=\"mailto:ryudatto12072001@gmail.com\"\n"
                + "                                          rel=\"noopener\"\n"
                + "                                          style=\"\n"
                + "                                            text-decoration: none;\n"
                + "                                            color: #03191e;\n"
                + "                                          \"\n"
                + "                                          target=\"_blank\"\n"
                + "                                          title=\"ryudatto12072001@gmail.com\"\n"
                + "                                          ><span style=\"font-size: 14px\"\n"
                + "                                            >ryudatto12072001@gmail.com</span\n"
                + "                                          ></a\n"
                + "                                        >\n"
                + "                                      </p>\n"
                + "                                    </div>\n"
                + "                                  </div>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-4\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-7\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 35px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-2\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"66.66666666666667%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"heading_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    text-align: center;\n"
                + "                                    width: 100%;\n"
                + "                                    padding-top: 30px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <h1\n"
                + "                                    style=\"\n"
                + "                                      margin: 0;\n"
                + "                                      color: #03191e;\n"
                + "                                      direction: ltr;\n"
                + "                                      font-family: Arial, Helvetica Neue,\n"
                + "                                        Helvetica, sans-serif;\n"
                + "                                      font-size: 20px;\n"
                + "                                      font-weight: normal;\n"
                + "                                      letter-spacing: normal;\n"
                + "                                      line-height: 120%;\n"
                + "                                      text-align: center;\n"
                + "                                      margin-top: 0;\n"
                + "                                      margin-bottom: 0;\n"
                + "                                    \"\n"
                + "                                  >\n"
                + "                                    <strong>Follow us</strong>\n"
                + "                                  </h1>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"text_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                                word-break: break-word;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    padding-bottom: 10px;\n"
                + "                                    padding-left: 20px;\n"
                + "                                    padding-right: 10px;\n"
                + "                                    padding-top: 10px;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <div style=\"font-family: sans-serif\">\n"
                + "                                    <div\n"
                + "                                      class=\"txtTinyMce-wrapper\"\n"
                + "                                      style=\"\n"
                + "                                        font-size: 12px;\n"
                + "                                        mso-line-height-alt: 21.6px;\n"
                + "                                        color: #848484;\n"
                + "                                        line-height: 1.8;\n"
                + "                                        font-family: Arial, Helvetica Neue,\n"
                + "                                          Helvetica, sans-serif;\n"
                + "                                      \"\n"
                + "                                    >\n"
                + "                                      <p\n"
                + "                                        style=\"\n"
                + "                                          margin: 0;\n"
                + "                                          font-size: 14px;\n"
                + "                                          text-align: center;\n"
                + "                                          mso-line-height-alt: 25.2px;\n"
                + "                                        \"\n"
                + "                                      >\n"
                + "                                        <span style=\"font-size: 14px\"\n"
                + "                                          >Lorem ipsum dolor sit amet,\n"
                + "                                          consectetuer adipiscing elit. Aenean\n"
                + "                                          commodo ligula eget dolor. Aenean\n"
                + "                                          massa.</span\n"
                + "                                        >\n"
                + "                                      </p>\n"
                + "                                    </div>\n"
                + "                                  </div>\n"
                + "                                </td>\n"
                + "                              </tr>\n"
                + "                            </table>\n"
                + "                            \n"
                + "                            \n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-3\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 35px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-8\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-2\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"66.66666666666667%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 45px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                          <td\n"
                + "                            class=\"column column-3\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"16.666666666666668%\"\n"
                + "                          >\n"
                + "                            <div\n"
                + "                              class=\"spacer_block\"\n"
                + "                              style=\"\n"
                + "                                height: 10px;\n"
                + "                                line-height: 5px;\n"
                + "                                font-size: 1px;\n"
                + "                              \"\n"
                + "                            >\n"
                + "                               \n"
                + "                            </div>\n"
                + "                          </td>\n"
                + "                        </tr>\n"
                + "                      </tbody>\n"
                + "                    </table>\n"
                + "                  </td>\n"
                + "                </tr>\n"
                + "              </tbody>\n"
                + "            </table>\n"
                + "            <table\n"
                + "              align=\"center\"\n"
                + "              border=\"0\"\n"
                + "              cellpadding=\"0\"\n"
                + "              cellspacing=\"0\"\n"
                + "              class=\"row row-9\"\n"
                + "              role=\"presentation\"\n"
                + "              style=\"mso-table-lspace: 0pt; mso-table-rspace: 0pt\"\n"
                + "              width=\"100%\"\n"
                + "            >\n"
                + "              <tbody>\n"
                + "                <tr>\n"
                + "                  <td>\n"
                + "                    <table\n"
                + "                      align=\"center\"\n"
                + "                      border=\"0\"\n"
                + "                      cellpadding=\"0\"\n"
                + "                      cellspacing=\"0\"\n"
                + "                      class=\"row-content stack\"\n"
                + "                      role=\"presentation\"\n"
                + "                      style=\"\n"
                + "                        mso-table-lspace: 0pt;\n"
                + "                        mso-table-rspace: 0pt;\n"
                + "                        color: #000000;\n"
                + "                        width: 680px;\n"
                + "                      \"\n"
                + "                      width=\"680\"\n"
                + "                    >\n"
                + "                      <tbody>\n"
                + "                        <tr>\n"
                + "                          <td\n"
                + "                            class=\"column column-1\"\n"
                + "                            style=\"\n"
                + "                              mso-table-lspace: 0pt;\n"
                + "                              mso-table-rspace: 0pt;\n"
                + "                              font-weight: 400;\n"
                + "                              text-align: left;\n"
                + "                              vertical-align: top;\n"
                + "                              padding-top: 5px;\n"
                + "                              padding-bottom: 5px;\n"
                + "                              border-top: 0px;\n"
                + "                              border-right: 0px;\n"
                + "                              border-bottom: 0px;\n"
                + "                              border-left: 0px;\n"
                + "                            \"\n"
                + "                            width=\"100%\"\n"
                + "                          >\n"
                + "                            <table\n"
                + "                              border=\"0\"\n"
                + "                              cellpadding=\"0\"\n"
                + "                              cellspacing=\"0\"\n"
                + "                              class=\"icons_block\"\n"
                + "                              role=\"presentation\"\n"
                + "                              style=\"\n"
                + "                                mso-table-lspace: 0pt;\n"
                + "                                mso-table-rspace: 0pt;\n"
                + "                              \"\n"
                + "                              width=\"100%\"\n"
                + "                            >\n"
                + "                              <tr>\n"
                + "                                <td\n"
                + "                                  style=\"\n"
                + "                                    vertical-align: middle;\n"
                + "                                    color: #9d9d9d;\n"
                + "                                    font-family: inherit;\n"
                + "                                    font-size: 15px;\n"
                + "                                    padding-bottom: 5px;\n"
                + "                                    padding-top: 5px;\n"
                + "                                    text-align: center;\n"
                + "                                  \"\n"
                + "                                >\n"
                + "                                  <table\n"
                + "                                    cellpadding=\"0\"\n"
                + "                                    cellspacing=\"0\"\n"
                + "                                    role=\"presentation\"\n"
                + "                                    style=\"\n"
                + "                                      mso-table-lspace: 0pt;\n"
                + "                                      mso-table-rspace: 0pt;\n"
                + "                                    \"\n"
                + "                                    width=\"100%\"\n"
                + "                                  >\n"
                + "                                    <tr>\n"
                + "                                      <td\n"
                + "                                        style=\"\n"
                + "                                          vertical-align: middle;\n"
                + "                                          text-align: center;\n"
                + "                                        \"\n"
                + "                                      >\n"
                + "                                        <!--[if vml]><table align=\"left\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"display:inline-block;padding-left:0px;padding-right:0px;mso-table-lspace: 0pt;mso-table-rspace: 0pt;\"><![endif]-->\n"
                + "                                        <!--[if !vml]><!-->\n"
                + "                                        <table\n"
                + "                                          cellpadding=\"0\"\n"
                + "                                          cellspacing=\"0\"\n"
                + "                                          class=\"icons-inner\"\n"
                + "                                          role=\"presentation\"\n"
                + "                                          style=\"\n"
                + "                                            mso-table-lspace: 0pt;\n"
                + "                                            mso-table-rspace: 0pt;\n"
                + "                                            display: inline-block;\n"
                + "                                            margin-right: -4px;\n"
                + "                                            padding-left: 0px;\n"
                + "                                            padding-right: 0px;\n"
                + "                                          \"\n"
                + "                                        >\n"
                + "  </body>\n"
                + "</html>";

        DAOUser udb = new DAOUser();
        if (udb.getUserEmail(mail1)) {

            MailValidation.send(mail1, subject, message, "ryudatto12072001@gmail.com", "Luutiendat1");
            String Notification1 = "Sent confirmation to your email!";
            request.setAttribute("notification1", Notification1);
            request.getRequestDispatcher("resetpassword.jsp").forward(request, response);

        } else {
                String Notification1 = "Email is not registered!";
                request.setAttribute("notification1", Notification1);
                request.getRequestDispatcher("resetpassword.jsp").forward(request, response);
            }
        
    }
    }
    /**
     * Returns a short description of the servlet.
     *
     * @return a String containing servlet description
     */
    @Override
    public String getServletInfo() {
        return "Short description";
    }// </editor-fold>

}
